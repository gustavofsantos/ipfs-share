{"version":3,"sources":["pages/Share/styles.js","components/DropFile/styles.js","components/DropFile/index.js","components/ListFiles/styles.js","components/ListFiles/index.js","components/Title/styles.js","components/Title/index.js","layout/colors.js","components/LinkButton/styles.js","layout/sizes.js","components/LinkButton/index.js","pages/Share/index.js","components/InputHash/styles.js","components/InputHash/index.js","components/DownloadButton/styles.js","components/DownloadButton/index.js","components/ListDlFiles/index.js","pages/Downloader/index.js","styles/global.js","App.js","index.js","lib/ipfs.js"],"names":["Container","styled","div","_templateObject","Content","_templateObject2","dragActive","css","styles_templateObject","dragReject","styles_templateObject2","messageColors","default","error","success","DropContainer","attrs","className","_templateObject3","props","isDragActive","isDragReject","UploadMessage","p","_templateObject4","type","DropFile","onDrop","react_default","a","createElement","es","onDropAccepted","_ref","getRootProps","getInputProps","Object","assign","renderDragMessage","ul","ListFiles_styles_templateObject","FileInfo","ListFiles_styles_templateObject2","ListFiles","files","styles_Container","map","file","index","key","name","size","metadataHash","Title_styles_templateObject","Title","h1","Title_styles_templateObject2","components_Title","Title_styles_Container","children","colors","foreground","foregroundLight","background","backgroundCard","Button","button","LinkButton_styles_templateObject","LinkButton","Share","_useState","useState","_useState2","slicedToArray","setFiles","handleDropFiles","asyncToGenerator","regenerator_default","mark","_callee2","dropFiles","promiseFiles","resolvedFiles","wrap","_context2","prev","next","_ref2","_callee","fileHash","metadata","_context","addFile","sent","hash","addMetadata","abrupt","t0","console","stop","this","_x2","apply","arguments","Promise","all","concat","_x","components_DropFile","length","Link","to","InputHash_styles_templateObject","InputHash","setHash","_handleGet","ev","preventDefault","onAddHash","InputHash_styles_Container","onSubmit","onChange","value","target","placeholder","DownloadButton_styles_templateObject","DownloadButton","styles_Button","onClick","downloadFile","content","byteArray","blob","downloadRawFile","Uint8Array","Blob","window","saveAs","ListDlFiles","Downloader","_onAddHash","metadataString","getMetadata","JSON","parse","log","createGlobalStyle","global_templateObject","App","BrowserRouter","global","Route","path","exact","component","ReactDOM","render","src_App","document","getElementById","ipfs","readFile","resolve","reject","reader","FileReader","onload","result","onerror","readAsArrayBuffer","_addFile","res","_home_gustavo_workspace_projects_ipfs_share_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","add","Buffer","from","_addMetadata","buffer","stringify","_x3","_getMetadata","_callee3","_context3","get","toString","_x4","_downloadRawFile","_callee4","_context4","enable","then","node"],"mappings":"ymBAEO,IAAMA,EAAYC,IAAOC,IAAVC,KAQTC,EAAUH,IAAOC,IAAVG,+jBCRpB,IAAMC,EAAaC,YAAHC,KAIVC,EAAaF,YAAHG,KAIVC,EAAgB,CACpBC,QAAS,OACTC,MAAO,GACPC,QAAS,IAGEC,EAAgBd,IAAOC,IAAIc,MAAM,CAC5CC,UAAW,YADgBhB,CAAHiB,IAStB,SAAAC,GAAK,OAAIA,EAAMC,cAAgBd,GAC/B,SAAAa,GAAK,OAAIA,EAAME,cAAgBZ,IAGtBa,EAAgBrB,IAAOsB,EAAVC,IAEf,SAAAL,GAAK,OAAIR,EAAcQ,EAAMM,MAAQ,aCmBjCC,MArBf,SAAkBP,GAAO,IACfQ,EAAWR,EAAXQ,OAER,OACEC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUC,eAAgBL,GAEtB,SAAAM,GAAA,IAAGC,EAAHD,EAAGC,aAAcC,EAAjBF,EAAiBE,cAAef,EAAhCa,EAAgCb,aAAcC,EAA9CY,EAA8CZ,aAA9C,OACEO,EAAAC,EAAAC,cAACf,EAADqB,OAAAC,OAAA,GACOH,IADP,CAEEd,aAAcA,EACdC,aAAcA,IAEdO,EAAAC,EAAAC,cAAA,QAAYK,KApCxB,SAA2Bf,EAAcC,GACvC,OAAKD,EAQDC,EAEAO,EAAAC,EAAAC,cAACR,EAAD,CAAeG,KAAK,SAApB,sBAOFG,EAAAC,EAAAC,cAACR,EAAD,CAAeG,KAAK,WAApB,2BAfEG,EAAAC,EAAAC,cAACR,EAAD,6BAkCQgB,CAAkBlB,EAAcC,grBCxCvC,IAAMrB,EAAYC,IAAOsC,GAAVC,KAgBTC,EAAWxC,IAAOC,IAAVwC,KCfN,SAASC,EAAUxB,GAAO,IAC/ByB,EAAUzB,EAAVyB,MAER,OACEhB,EAAAC,EAAAC,cAACe,EAAD,KAEID,EAAME,IAAI,SAACC,EAAMC,GAAP,OACRpB,EAAAC,EAAAC,cAAA,MAAImB,IAAKD,GACPpB,EAAAC,EAAAC,cAACW,EAAD,KACEb,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,cACGiB,EAAKA,KAAKG,MAGbtB,EAAAC,EAAAC,cAAA,YACGiB,EAAKA,KAAKI,KADb,UAIAvB,EAAAC,EAAAC,cAAA,YACIiB,EAAKK,sWCpBlB,IAAMpD,EAAYC,IAAOC,IAAVmD,KAUTC,EAAQrD,IAAOsD,GAAVC,KCRHC,EAAA,SAACtC,GAAD,OACbS,EAAAC,EAAAC,cAAC4B,EAAD,KACE9B,EAAAC,EAAAC,cAACwB,EAAD,KACInC,EAAMwC,YCACC,EAPA,CACbC,WAAY,OACZC,gBAAiB,OACjBC,WAAY,UACZC,eAAgB,mRCAX,IAAMC,EAAShE,IAAOiE,OAAVC,ICFL,QDaEP,EAAOI,eACZJ,EAAOC,YEbHO,EAAA,SAACjD,GAAD,OACbS,EAAAC,EAAAC,cAACmC,EAAD,KACG9C,EAAMwC,WCMI,SAASU,IAAQ,IAAAC,EACJC,mBAAS,IADLC,EAAApC,OAAAqC,EAAA,EAAArC,CAAAkC,EAAA,GACvB1B,EADuB4B,EAAA,GAChBE,EADgBF,EAAA,GAGxBG,EAAe,eAAA1C,EAAAG,OAAAwC,EAAA,EAAAxC,CAAAyC,EAAAhD,EAAAiD,KAAG,SAAAC,EAAMC,GAAN,IAAAC,EAAAC,EAAA,OAAAL,EAAAhD,EAAAsD,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACKN,EAAUlC,IAAV,eAAAyC,EAAAnD,OAAAwC,EAAA,EAAAxC,CAAAyC,EAAAhD,EAAAiD,KAAc,SAAAU,EAAMzC,GAAN,IAAA0C,EAAAC,EAAAtC,EAAA,OAAAyB,EAAAhD,EAAAsD,KAAA,SAAAQ,GAAA,cAAAA,EAAAN,KAAAM,EAAAL,MAAA,cAAAK,EAAAN,KAAA,EAAAM,EAAAL,KAAA,EAEdM,YAAQ7C,GAFM,cAE/B0C,EAF+BE,EAAAE,KAI/BH,EAAW,CACfxC,KAAMH,EAAKG,KACXC,KAAMJ,EAAKI,KACX2C,KAAML,GAP6BE,EAAAL,KAAA,EAUVS,YAAYL,GAVF,cAU/BtC,EAV+BuC,EAAAE,KAAAF,EAAAK,OAAA,SAW9B,CACL5C,eACAL,SAbmC,QAAA4C,EAAAN,KAAA,GAAAM,EAAAM,GAAAN,EAAA,SAgBrCO,QAAQrF,MAAR8E,EAAAM,IAhBqC,yBAAAN,EAAAQ,SAAAX,EAAAY,KAAA,aAAd,gBAAAC,GAAA,OAAAd,EAAAe,MAAAF,KAAAG,YAAA,IADL,cAChBtB,EADgBG,EAAAS,KAAAT,EAAAE,KAAA,EAqBMkB,QAAQC,IAAIxB,GArBlB,OAqBhBC,EArBgBE,EAAAS,KAuBtBnB,EAAS9B,EAAM8D,OAAOxB,IAvBA,wBAAAE,EAAAe,SAAApB,EAAAqB,SAAH,gBAAAO,GAAA,OAAA1E,EAAAqE,MAAAF,KAAAG,YAAA,GA0BrB,OACE3E,EAAAC,EAAAC,cAAC9B,EAAD,KACE4B,EAAAC,EAAAC,cAAC2B,EAAD,mBAGA7B,EAAAC,EAAAC,cAAC1B,EAAD,KACEwB,EAAAC,EAAAC,cAAC8E,EAAD,CAAUjF,OAAQgD,MAEd/B,EAAMiE,QACNjF,EAAAC,EAAAC,cAACa,EAAD,CAAWC,MAAOA,KAIxBhB,EAAAC,EAAAC,cAACgF,EAAA,EAAD,CAAMC,GAAG,eACPnF,EAAAC,EAAAC,cAACsC,EAAD,iXCnDD,IAAMpE,EAAYC,IAAOC,IAAV8G,IACNpD,EAAOI,eAaVJ,EAAOC,YCdL,SAASoD,EAAU9F,GAAO,IAAAmD,EAEbC,mBAAS,IAFIC,EAAApC,OAAAqC,EAAA,EAAArC,CAAAkC,EAAA,GAE/BwB,EAF+BtB,EAAA,GAEzB0C,EAFyB1C,EAAA,YAAA2C,IAAA,OAAAA,EAAA/E,OAAAwC,EAAA,EAAAxC,CAAAyC,EAAAhD,EAAAiD,KASvC,SAAAU,EAAyB4B,GAAzB,OAAAvC,EAAAhD,EAAAsD,KAAA,SAAAQ,GAAA,cAAAA,EAAAN,KAAAM,EAAAL,MAAA,OACE8B,EAAGC,iBACHlG,EAAMmG,UAAUxB,GAFlB,wBAAAH,EAAAQ,SAAAX,EAAAY,UATuCE,MAAAF,KAAAG,WAcvC,OACE3E,EAAAC,EAAAC,cAACyF,EAAD,KACE3F,EAAAC,EAAAC,cAAA,QAAM0F,SAhB6B,SAAAb,GAAA,OAAAQ,EAAAb,MAAAF,KAAAG,aAiBjC3E,EAAAC,EAAAC,cAAA,SACEL,KAAK,OACLgG,SAfR,SAAsBL,GAAI,IAChBM,EAAUN,EAAGO,OAAbD,MACRR,EAAQQ,IAcFA,MAAO5B,EACP8B,YAAY,iXCtBf,IAAM3D,EAAShE,IAAOiE,OAAV2D,KCCJC,EAAA,SAAC3G,GAAD,OACbS,EAAAC,EAAAC,cAACiG,EAAD,CAAQC,QAAS7G,EAAM6G,SAAvB,aCCF,SAASC,EAAalF,GAAM,IAClBG,EAAeH,EAAfG,KAAM4C,EAAS/C,EAAT+C,KAEd,OAAA1D,OAAAwC,EAAA,GAAAC,EAAAhD,EAAAiD,KAAO,SAAAU,IAAA,IAAA0C,EAAAC,EAAAC,EAAA,OAAAvD,EAAAhD,EAAAsD,KAAA,SAAAQ,GAAA,cAAAA,EAAAN,KAAAM,EAAAL,MAAA,cAAAK,EAAAL,KAAA,EACiB+C,YAAgBvC,GADjC,OACCoC,EADDvC,EAAAE,KAECsC,EAAY,IAAIG,WAAWJ,GAC3BE,EAAO,IAAIG,KAAK,CAACJ,GAAY,CAAE1G,KAAM,6BAE3C+G,OAAOC,OAAOL,EAAMlF,GALf,wBAAAyC,EAAAQ,SAAAX,EAAAY,SASM,SAASsC,GAAYvH,GAAO,IACjCyB,EAAUzB,EAAVyB,MAER,OACEhB,EAAAC,EAAAC,cAACe,EAAD,KAEID,EAAME,IAAI,SAACC,EAAMC,GAAP,OACRpB,EAAAC,EAAAC,cAAA,MAAImB,IAAKD,GACPpB,EAAAC,EAAAC,cAACW,EAAD,KACEb,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,cACGiB,EAAKG,MAGRtB,EAAAC,EAAAC,cAAA,YACGiB,EAAKI,KADR,YAMJvB,EAAAC,EAAAC,cAACgG,EAAD,CAAgBE,QAASC,EAAalF,SC3BnC,SAAS4F,KAAa,IAAArE,EAEPC,mBAAS,IAFFC,EAAApC,OAAAqC,EAAA,EAAArC,CAAAkC,EAAA,GAE3B1B,EAF2B4B,EAAA,GAEpBE,EAFoBF,EAAA,YAAAoE,IAAA,OAAAA,EAAAxG,OAAAwC,EAAA,EAAAxC,CAAAyC,EAAAhD,EAAAiD,KAInC,SAAAU,EAAyBM,GAAzB,IAAA+C,EAAAnD,EAAA,OAAAb,EAAAhD,EAAAsD,KAAA,SAAAQ,GAAA,cAAAA,EAAAN,KAAAM,EAAAL,MAAA,cAAAK,EAAAL,KAAA,EAC+BwD,YAAYhD,GAD3C,OACQ+C,EADRlD,EAAAE,KAEQH,EAAWqD,KAAKC,MAAMH,GAE5B3C,QAAQ+C,IAAI,WAAYvD,GACxBhB,EAAS9B,EAAM8D,OAAOhB,IALxB,wBAAAC,EAAAQ,SAAAX,EAAAY,UAJmCE,MAAAF,KAAAG,WAYnC,OACE3E,EAAAC,EAAAC,cAAC9B,EAAD,KACE4B,EAAAC,EAAAC,cAAC2B,EAAD,wBAIA7B,EAAAC,EAAAC,cAAC1B,EAAD,KACEwB,EAAAC,EAAAC,cAACmF,EAAD,CAAWK,UAnBkB,SAAAX,GAAA,OAAAiC,EAAAtC,MAAAF,KAAAG,gBAsBzB3D,EAAMiE,QACNjF,EAAAC,EAAAC,cAAC4G,GAAD,CAAa9F,MAAOA,KAI1BhB,EAAAC,EAAAC,cAACgF,EAAA,EAAD,CACEC,GAAG,UAEHnF,EAAAC,EAAAC,cAACsC,EAAD,yaCtCO8E,mBAAfC,MCmBeC,OAff,WAEE,OACExH,EAAAC,EAAAC,cAACuH,EAAA,EAAD,KACEzH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACwH,GAAD,MAEA1H,EAAAC,EAAAC,cAACyH,EAAA,EAAD,CAAOC,KAAK,IAAIC,OAAK,EAACC,UAAWrF,IACjCzC,EAAAC,EAAAC,cAACyH,EAAA,EAAD,CAAOC,KAAK,SAASE,UAAWrF,IAChCzC,EAAAC,EAAAC,cAACyH,EAAA,EAAD,CAAOC,KAAK,cAAcE,UAAWf,QCV7CgB,IAASC,OACPhI,EAAAC,EAAAC,cAAC+H,GAAD,MACAC,SAASC,eAAe,iNCPtBC,EAAO,KAQX,SAASC,EAASlH,GAChB,OAAO,IAAIyD,QAAQ,SAAC0D,EAASC,GAC3B,IAAMC,EAAS,IAAIC,WAEnBD,EAAOE,OAAS,SAAAlD,GACd,IAAMc,EAAUd,EAAGO,OAAO4C,OAC1BL,EAAQhC,IAGVkC,EAAOI,QAAUL,EAEjBC,EAAOK,kBAAkB1H,KAItB,SAAe6C,EAAtBe,GAAA,OAAA+D,EAAApE,MAAAF,KAAAG,sDAAO,SAAAf,EAAuBzC,GAAvB,IAAAmF,EAAAyC,EAAA7E,EAAA,OAAA8E,EAAA/I,EAAAsD,KAAA,SAAAQ,GAAA,cAAAA,EAAAN,KAAAM,EAAAL,MAAA,cAAAK,EAAAN,KAAA,EAAAM,EAAAL,KAAA,EAEmB2E,EAASlH,GAF5B,cAEGmF,EAFHvC,EAAAE,KAAAF,EAAAL,KAAA,EAGe0E,EAAKa,IAAI,CACzBrB,KAAMzG,EAAKG,KACXgF,QAAS4C,EAAOC,KAAK7C,KALpB,cAGGyC,EAHHhF,EAAAE,KAQKC,EAAS6E,EAAI,GAAb7E,KARLH,EAAAK,OAAA,SAUIF,GAVJ,QAAAH,EAAAN,KAAA,GAAAM,EAAAM,GAAAN,EAAA,SAYHO,QAAQrF,MAAR8E,EAAAM,IAZG,yBAAAN,EAAAQ,SAAAX,EAAAY,KAAA,oCAgBA,SAAeL,EAAtBM,GAAA,OAAA2E,EAAA1E,MAAAF,KAAAG,sDAAO,SAAAxB,EAA2BW,GAA3B,IAAAuF,EAAAV,EAAA,OAAAK,EAAA/I,EAAAsD,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAEG4F,EAASH,EAAOC,KAAKhC,KAAKmC,UAAUxF,IAFvCN,EAAAE,KAAA,EAGkB0E,EAAKa,IAAII,GAH3B,cAGGV,EAHHnF,EAAAS,KAAAT,EAAAY,OAAA,SAIIuE,EAAO,GAAGzE,MAJd,OAAAV,EAAAC,KAAA,EAAAD,EAAAa,GAAAb,EAAA,SAMHc,QAAQrF,MAARuE,EAAAa,IANG,yBAAAb,EAAAe,SAAApB,EAAAqB,KAAA,mCAUA,SAAe0C,EAAtBqC,GAAA,OAAAC,EAAA9E,MAAAF,KAAAG,sDAAO,SAAA8E,EAA2BvF,GAA3B,IAAAyE,EAAAU,EAAA/C,EAAA,OAAA0C,EAAA/I,EAAAsD,KAAA,SAAAmG,GAAA,cAAAA,EAAAjG,KAAAiG,EAAAhG,MAAA,cAAAgG,EAAAjG,KAAA,EAAAiG,EAAAhG,KAAA,EAEkB0E,EAAKuB,IAAIzF,GAF3B,cAEGyE,EAFHe,EAAAzF,KAGGoF,EAASV,EAAO,GAAGrC,QAEnBA,EAAU+C,EAAOO,WALpBF,EAAAtF,OAAA,SAOIkC,GAPJ,OAAAoD,EAAAjG,KAAA,EAAAiG,EAAArF,GAAAqF,EAAA,SASHpF,QAAQrF,MAARyK,EAAArF,IATG,yBAAAqF,EAAAnF,SAAAkF,EAAAjF,KAAA,mCAaA,SAAeiC,EAAtBoD,GAAA,OAAAC,EAAApF,MAAAF,KAAAG,sDAAO,SAAAoF,EAA+B7F,GAA/B,IAAAyE,EAAAU,EAAA,OAAAL,EAAA/I,EAAAsD,KAAA,SAAAyG,GAAA,cAAAA,EAAAvG,KAAAuG,EAAAtG,MAAA,cAAAsG,EAAAvG,KAAA,EAAAuG,EAAAtG,KAAA,EAEkB0E,EAAKuB,IAAIzF,GAF3B,cAEGyE,EAFHqB,EAAA/F,KAGGoF,EAASV,EAAO,GAAGrC,QAHtB0D,EAAA5F,OAAA,SAKIiF,GALJ,OAAAW,EAAAvG,KAAA,EAAAuG,EAAA3F,GAAA2F,EAAA,SAOH1F,QAAQrF,MAAR+K,EAAA3F,IAPG,yBAAA2F,EAAAzF,SAAAwF,EAAAvF,KAAA,mCA3DPoC,OAAOwB,KAAK6B,SACTC,KAAK,SAAAC,GACJ/B,EAAO+B","file":"static/js/main.9620da67.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nexport const Container = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nexport const Content = styled.div`\n  width: 100%;\n  max-width: 600px;\n  margin: 30px;\n  background: #FFF;\n  border-radius: 6px;\n  padding: 20px;\n`;","import styled, { css } from 'styled-components';\n\nconst dragActive = css`\n  border-color: #13BD95;\n`;\n\nconst dragReject = css`\n  border-color: #D61242;\n`;\n\nconst messageColors = {\n  default: '#444',\n  error: '',\n  success: ''\n};\n\nexport const DropContainer = styled.div.attrs({\n  className: 'dropzone'\n})`\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  cursor: pointer;\n\n  transition: height 0.2s ease;\n\n  ${props => props.isDragActive && dragActive};\n  ${props => props.isDragReject && dragReject};\n`;\n\nexport const UploadMessage = styled.p`\n  display: flex;\n  color: ${props => messageColors[props.type || 'default']};\n  justify-content: center;\n  align-items: center;\n  padding: 15px;\n`;","import React from 'react';\nimport Dropzone from 'react-dropzone';\n\nimport { DropContainer, UploadMessage } from './styles';\n\nfunction renderDragMessage(isDragActive, isDragReject) {\n  if (!isDragActive) {\n    return (\n      <UploadMessage>\n        Drop your files here\n      </UploadMessage>\n    )\n  }\n\n  if (isDragReject) {\n    return (\n      <UploadMessage type=\"error\">\n        File not supported\n      </UploadMessage>\n    )\n  }\n\n  return (\n    <UploadMessage type=\"success\">\n      Release your files here\n    </UploadMessage>\n  )\n};\n\nfunction DropFile(props) {\n  const { onDrop } = props;\n  \n  return (\n    <Dropzone onDropAccepted={onDrop}>\n      {\n        ({ getRootProps, getInputProps, isDragActive, isDragReject }) => (\n          <DropContainer\n            { ...getRootProps() }\n            isDragActive={isDragActive}\n            isDragReject={isDragReject}\n          >\n            <input { ...getInputProps() } />\n            { renderDragMessage(isDragActive, isDragReject) }\n          </DropContainer>\n        )\n      }\n    </Dropzone>\n  );\n}\n\nexport default DropFile;","import styled from 'styled-components';\n\nexport const Container = styled.ul`\n  margin-top: 20px;\n\n  li {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: #444;\n\n    & + li {\n      margin-top: 15px;\n    }\n  }\n\n`;\n\nexport const FileInfo = styled.div`\n  display: flex;\n  align-items: center;\n\n  div {\n    display: flex;\n    flex-direction: column;\n\n    span {\n      font-size: 12px;\n      color: #999;\n      margin-top: 5px;\n\n      button {\n        border: 0;\n        background: transparent;\n        color: #999;\n        margin-left: 5px;\n        cursor: pointer;\n      }\n    }\n  }\n`;","import React from 'react';\nimport { Container, FileInfo } from './styles';\n\nexport default function ListFiles(props) {\n  const { files } = props;\n\n  return (\n    <Container>\n      {\n        files.map((file, index) => (\n          <li key={index}>\n            <FileInfo>\n              <div>\n                <strong>\n                  {file.file.name}\n                </strong>\n\n                <span>\n                  {file.file.size} bytes\n                </span>\n\n                <span>\n                  { file.metadataHash }\n                </span>\n              </div>\n            </FileInfo>\n          </li>\n        ))\n      }\n    </Container>\n  );\n}","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  display: flex;\n  justify-content: left;\n  width: 100%;\n  max-width: 600px;\n  margin-left: 40px;\n  margin-right: 40px;\n  margin-top: 40px;\n`;\n\nexport const Title = styled.h1`\n  color: #FFF;\n  font-weight: bold;\n`;","import React from 'react';\n\nimport { Container, Title } from './styles';\n\nexport default (props) => (\n  <Container>\n    <Title>\n      { props.children }\n    </Title>\n  </Container>\n)","const colors = {\n  foreground: '#444',\n  foregroundLight: '#999',\n  background: '#021EA4',\n  backgroundCard: '#FFF'\n}\n\nexport default colors;","import styled from 'styled-components';\nimport sizes from '../../layout/sizes';\nimport colors from '../../layout/colors';\n\nexport const Button = styled.button`\n  width: 100%;\n  max-width: ${sizes.layout.maxWidth};\n  min-width: 100%;\n\n  border: none;\n  border-radius: 6px;\n  padding: 10px;\n\n  cursor: pointer;\n\n  background: ${colors.backgroundCard};\n  color: ${colors.foreground};\n  font-weight: bold;\n`;","export default {\n  layout: {\n    maxWidth: '400px'\n  }\n}","import React from 'react';\nimport { Button } from './styles';\n\nexport default (props) => (\n  <Button>\n    {props.children}\n  </Button>\n)","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Container, Content } from './styles';\nimport DropFile from '../../components/DropFile';\nimport ListFiles from '../../components/ListFiles';\n\nimport { addFile, addMetadata } from '../../lib/ipfs';\nimport Title from '../../components/Title';\nimport LinkButton from '../../components/LinkButton';\n\n\nexport default function Share() {\n  const [files, setFiles] = useState([]);\n\n  const handleDropFiles = async dropFiles => {\n    const promiseFiles = await dropFiles.map(async file => {\n      try {\n        const fileHash = await addFile(file);\n\n        const metadata = {\n          name: file.name,\n          size: file.size,\n          hash: fileHash\n        }\n\n        const metadataHash = await addMetadata(metadata);\n        return {\n          metadataHash,\n          file\n        };\n      } catch (e) {\n        console.error(e);\n      }\n    });\n\n    const resolvedFiles = await Promise.all(promiseFiles);\n\n    setFiles(files.concat(resolvedFiles));\n  }\n\n  return (\n    <Container>\n      <Title>\n        IPFS Share\n      </Title>\n      <Content>\n        <DropFile onDrop={handleDropFiles} />\n        {\n          !!files.length &&\n            <ListFiles files={files} />\n        }\n      </Content>\n\n      <Link to=\"/downloader\">\n        <LinkButton>\n          Downloader\n        </LinkButton>\n      </Link>\n    </Container>\n  )\n}","import styled from 'styled-components';\nimport colors from '../../layout/colors';\n\nexport const Container = styled.div`\n  background: ${colors.backgroundCard};\n  border: 1px solid #ddd;\n  border-radius: 6px;\n\n  input {\n    width: 100%;\n    padding: 15px;\n    font-size: 14px;\n    font-weight: 400;\n    text-align: center;\n    border: none;\n    border-radius: 6px;\n    outline: none;\n    color: ${colors.foreground};\n  }\n`;","import React, { useState } from 'react';\nimport { Container } from './styles';\n\nexport default function InputHash(props) {\n\n  const [ hash, setHash ] = useState('');\n\n  function handleChange(ev) {\n    const { value } = ev.target;\n    setHash(value);\n  }\n\n  async function handleGet(ev) {\n    ev.preventDefault();\n    props.onAddHash(hash);\n  }\n\n  return (\n    <Container>\n      <form onSubmit={handleGet}>\n        <input \n          type=\"text\"\n          onChange={handleChange}\n          value={hash}\n          placeholder=\"Paste your IPFS CID here\" \n        />\n      </form>\n      {/* <button onClick={handleGet}>Get</button> */}\n    </Container>\n  )\n}","import styled from 'styled-components';\n\nexport const Button = styled.button`\n  padding: 10px;\n  border: none;\n  border-radius: 6px;\n  background: #163EC2;\n  font-weight: bold;\n  color: rgba(255, 255, 255, 0.9);\n  box-shadow: 0 4px 16px rgba(113, 144, 194, 0.4);\n\n  & :hover {\n    box-shadow: 0 4px 16px rgba(113, 144, 194, 0.8);\n  }\n`;","import React from 'react';\nimport { Button } from './styles';\n\nexport default (props) => (\n  <Button onClick={props.onClick}>\n    Download\n  </Button>\n);","import React from 'react';\nimport { Container, FileInfo } from '../ListFiles/styles';\nimport { downloadRawFile } from '../../lib/ipfs';\nimport DownloadButton from '../DownloadButton';\n\nfunction downloadFile(file) {\n  const { name, hash } = file;\n\n  return async function() {\n    const content = await downloadRawFile(hash);\n    const byteArray = new Uint8Array(content);\n    const blob = new Blob([byteArray], { type: 'application/octet-stream' });\n\n    window.saveAs(blob, name);\n  }\n}\n\nexport default function ListDlFiles(props) {\n  const { files } = props;\n\n  return (\n    <Container>\n      {\n        files.map((file, index) => (\n          <li key={index}>\n            <FileInfo>\n              <div>\n                <strong>\n                  {file.name}\n                </strong>\n\n                <span>\n                  {file.size} bytes\n                </span>\n              </div>\n            </FileInfo>\n\n            <DownloadButton onClick={downloadFile(file)} />\n          </li>\n        ))\n      }\n    </Container>\n  )\n}","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Container, Content } from '../Share/styles';\nimport InputHash from '../../components/InputHash';\nimport Title from '../../components/Title';\nimport ListDlFiles from '../../components/ListDlFiles';\nimport { getMetadata } from '../../lib/ipfs';\nimport LinkButton from '../../components/LinkButton';\n\n\nexport default function Downloader() {\n\n  const [ files, setFiles ] = useState([]);\n\n  async function onAddHash(hash) {\n    const metadataString = await getMetadata(hash);\n    const metadata = JSON.parse(metadataString);\n\n    console.log('metadata', metadata);\n    setFiles(files.concat(metadata));\n  }\n\n  return (\n    <Container>\n      <Title>\n        IPFS Downloader\n      </Title>\n\n      <Content>\n        <InputHash onAddHash={onAddHash} />\n\n        {\n          !!files.length &&\n            <ListDlFiles files={files} />\n        }\n      </Content>\n\n      <Link \n        to=\"/share\"\n      >\n        <LinkButton>\n          Share\n        </LinkButton>\n      </Link>\n    </Container>\n  );\n}","import { createGlobalStyle } from 'styled-components';\n\nexport default createGlobalStyle`\n  * {\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n\n  body {\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: 14px;\n    background: #021EA4;\n    text-rendering: optimizeLegibility;\n    -webkit-font-smoothing: antialiased;\n  }\n\n  html, body, #root {\n    height: 100%;\n  }\n`;","import React from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport Share from './pages/Share';\nimport Downloader from './pages/Downloader';\nimport GlobalStyle from './styles/global';\n\nfunction App() {\n\n  return (\n    <Router>\n      <div>\n        <GlobalStyle />\n\n        <Route path=\"/\" exact component={Share} />\n        <Route path=\"/share\" component={Share} />\n        <Route path=\"/downloader\" component={Downloader} />\n      </div>\n    </Router>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n);\n","let ipfs = null;\n\n// using the ipfs companion\nwindow.ipfs.enable()\n  .then(node => { \n    ipfs = node;\n  });\n\nfunction readFile(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n\n    reader.onload = ev => {\n      const content = ev.target.result;\n      resolve(content);\n    }\n\n    reader.onerror = reject;\n\n    reader.readAsArrayBuffer(file);\n  });\n}\n\nexport async function addFile(file) {\n  try {\n    const content = await readFile(file);\n    const res = await ipfs.add({\n      path: file.name,\n      content: Buffer.from(content)\n    });\n\n    const { hash } = res[0];\n\n    return hash;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function addMetadata(metadata) {\n  try {\n    const buffer = Buffer.from(JSON.stringify(metadata));\n    const result = await ipfs.add(buffer);\n    return result[0].hash;\n  } catch (e) {\n    console.error(e);\n  }\n}\n\nexport async function getMetadata(hash) {\n  try {\n    const result = await ipfs.get(hash);\n    const buffer = result[0].content;\n\n    const content = buffer.toString();\n\n    return content;\n  } catch (e) {\n    console.error(e);\n  }\n}\n\nexport async function downloadRawFile(hash) {\n  try {\n    const result = await ipfs.get(hash);\n    const buffer = result[0].content;\n\n    return buffer;\n  } catch (e) {\n    console.error(e);\n  }\n}"],"sourceRoot":""}